## Tables

1.学生表

Student(SId,Sname,Sage,Ssex)

SId 学生编号,Sname 学生姓名,Sage 出生年月,Ssex 学生性别

| SId  | Sname  | Sage                | Ssex |
|------|--------|---------------------|------|
| 01   | 赵雷   | 1990-01-01 00:00:00 | 男   |
| 02   | 钱电   | 1990-12-21 00:00:00 | 男   |
| 03   | 孙风   | 1990-05-20 00:00:00 | 男   |
| 04   | 李云   | 1990-08-06 00:00:00 | 男   |
| 05   | 周梅   | 1991-12-01 00:00:00 | 女   |
| 06   | 吴兰   | 1992-03-01 00:00:00 | 女   |
| 07   | 郑竹   | 1989-07-01 00:00:00 | 女   |
| 09   | 张三   | 2017-12-20 00:00:00 | 女   |
| 10   | 李四   | 2017-12-25 00:00:00 | 女   |
| 11   | 李四   | 2017-12-30 00:00:00 | 女   |
| 12   | 赵六   | 2017-01-01 00:00:00 | 女   |
| 13   | 孙七   | 2018-01-01 00:00:00 | 女   |


2.课程表

Course(CId,Cname,TId)

CId 课程编号,Cname 课程名称,TId 教师编号

| CId  | Cname  | TId  |
|------|--------|------|
| 01   | 语文   | 02   |
| 02   | 数学   | 01   |
| 03   | 英语   | 03   |


3.教师表

Teacher(TId,Tname)

TId 教师编号,Tname 教师姓名

| TId  | Tname  |
|------|--------|
| 01   | 张三   |
| 02   | 李四   |
| 03   | 王五   |


4.成绩表

SC(SId,CId,score)

SId 学生编号,CId 课程编号,score 分数

| SId  | CId  | score |
|------|------|-------|
| 01   | 01   |  80.0 |
| 01   | 02   |  90.0 |
| 01   | 03   |  99.0 |
| 02   | 01   |  70.0 |
| 02   | 02   |  60.0 |
| 02   | 03   |  80.0 |
| 03   | 01   |  80.0 |
| 03   | 02   |  80.0 |
| 03   | 03   |  80.0 |
| 04   | 01   |  50.0 |
| 04   | 02   |  30.0 |
| 04   | 03   |  20.0 |
| 05   | 01   |  76.0 |
| 05   | 02   |  87.0 |
| 06   | 01   |  31.0 |
| 06   | 03   |  34.0 |
| 07   | 02   |  89.0 |
| 07   | 03   |  98.0 |

## 题目

1. 查询 "01" 课程比 "02" 课程成绩高的学生的信息及课程分数
```sql
SELECT * FROM SC as SC1, SC as SC2, Student
WHERE SC1.SId = SC2.SId 
AND SC1.Cid =  '01' AND SC2.Cid = '02' AND SC1.score > SC2.score
AND SC1.Sid = Student.Sid;
```

| SId  | CId  | score | SId  | CId  | score | SId  | Sname  | Sage                | Ssex |
|------|------|-------|------|------|-------|------|--------|---------------------|------|
| 02   | 01   |  70.0 | 02   | 02   |  60.0 | 02   | 钱电   | 1990-12-21 00:00:00 | 男   |
| 04   | 01   |  50.0 | 04   | 02   |  30.0 | 04   | 李云   | 1990-08-06 00:00:00 | 男   |


1.1 查询同时存在" 01 “课程和” 02 "课程的情况

去掉score限制即可

```sql
SELECT * FROM SC as SC1, SC as SC2, Student
WHERE SC1.SId = SC2.SId 
AND SC1.Cid =  '01' AND SC2.Cid = '02'
AND SC1.Sid = Student.Sid;
```
| SId  | CId  | score | SId  | CId  | score | SId  | Sname  | Sage                | Ssex |
|------|------|-------|------|------|-------|------|--------|---------------------|------|
| 01   | 01   |  80.0 | 01   | 02   |  90.0 | 01   | 赵雷   | 1990-01-01 00:00:00 | 男   |
| 02   | 01   |  70.0 | 02   | 02   |  60.0 | 02   | 钱电   | 1990-12-21 00:00:00 | 男   |
| 03   | 01   |  80.0 | 03   | 02   |  80.0 | 03   | 孙风   | 1990-05-20 00:00:00 | 男   |
| 04   | 01   |  50.0 | 04   | 02   |  30.0 | 04   | 李云   | 1990-08-06 00:00:00 | 男   |
| 05   | 01   |  76.0 | 05   | 02   |  87.0 | 05   | 周梅   | 1991-12-01 00:00:00 | 女   |

1.2 查询存在" 01 “课程但可能不存在” 02 "课程的情况(不存在时显示为 null )

因为题目要求不存在课程 02 时要显示为 null，因此在 FROM 语句中使用子查询选出 CId 为 02 的记录作为源表，再使用左连接联表，这样不存在课程 02 时就会显示为 null 了.

为什么要使用子查询，而不是将 `SC.CId = '02'` 放在下面主查询的 WHRER 语句中，是因为 WHERE 语句是在联表操作之后执行的，这样就起不到不存在课程 02 时显示 null 的效果.

```sql
SELECT * FROM SC as SC1
LEFT JOIN ((SELECT * from SC WHERE SC.CId = '02') as SC2, Student)
ON (SC1.SId = SC2.SId AND SC1.SId = Student.SId)
WHERE SC1.CId = '01';
```

| SId  | CId  | score | SId  | CId  | score | SId  | Sname  | Sage                | Ssex |
|------|------|-------|------|------|-------|------|--------|---------------------|------|
| 01   | 01   |  80.0 | 01   | 02   |  90.0 | 01   | 赵雷   | 1990-01-01 00:00:00 | 男   |
| 02   | 01   |  70.0 | 02   | 02   |  60.0 | 02   | 钱电   | 1990-12-21 00:00:00 | 男   |
| 03   | 01   |  80.0 | 03   | 02   |  80.0 | 03   | 孙风   | 1990-05-20 00:00:00 | 男   |
| 04   | 01   |  50.0 | 04   | 02   |  30.0 | 04   | 李云   | 1990-08-06 00:00:00 | 男   |
| 05   | 01   |  76.0 | 05   | 02   |  87.0 | 05   | 周梅   | 1991-12-01 00:00:00 | 女   |
| 06   | 01   |  31.0 | NULL | NULL |  NULL | NULL | NULL   | NULL                | NULL |

1.3 查询不存在" 01 “课程但存在” 02 "课程的情况